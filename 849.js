"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[849],{8849:(xt,O,s)=>{s.r(O),s.d(O,{EXAMPLES_MODULE:()=>gt,EXAMPLE_COMPONENTS:()=>Pt});var o=s(2398),f=s(2031),C=s(2683),M=s(1233),E=s(9545),A=s(5724),k=s(7608);class y{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class L extends y{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class _ extends y{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class j extends y{constructor(e){super(),this.element=e instanceof o.SBq?e.nativeElement:e}}class Z extends class I{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof L?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof _?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof j?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=p=>{const d=p.element,h=this._document.createComment("dom-portal");d.parentNode.insertBefore(h,d),this.outletElement.appendChild(d),this._attachedPortal=p,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(d,h)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}var H=s(9128),z=s(3314),B=s(4933),U=s(1193),Y=s(1063),w=s(1074),g=s(6694);const J=class V extends z.Z{constructor(e){super(),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+U.$A,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener("element",this.handleElementChanged),this.addChangeListener("map",this.handleMapChanged),this.addChangeListener("offset",this.handleOffsetChanged),this.addChangeListener("position",this.handlePositionChanged),this.addChangeListener("positioning",this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get("element")}getId(){return this.id}getMap(){return this.get("map")||null}getOffset(){return this.get("offset")}getPosition(){return this.get("position")}getPositioning(){return this.get("positioning")}handleElementChanged(){(0,g.ep)(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,g.ZF)(this.element),(0,w.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,w.oL)(e,B.Z.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set("element",e)}setMap(e){this.set("map",e)}setOffset(e){this.set("offset",e)}setPosition(e){this.set("position",e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get("position"))return;const r=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),a=this.getRect(i,[(0,g.iO)(i),(0,g.Pb)(i)]),p=void 0===(e=e||{}).margin?20:e.margin;if(!(0,Y.r4)(r,a)){const d=a[0]-r[0],h=r[2]-a[2],v=a[1]-r[1],P=r[3]-a[3],u=[0,0];if(d<0?u[0]=d-p:h<0&&(u[0]=Math.abs(h)+p),v<0?u[1]=v-p:P<0&&(u[1]=Math.abs(P)+p),0!==u[0]||0!==u[1]){const Ct=t.getView().getCenterInternal(),N=t.getPixelFromCoordinateInternal(Ct);if(!N)return;const yt=[N[0]+u[0],N[1]+u[1]],S=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(yt),duration:S.duration,easing:S.easing})}}}getRect(e,t){const r=e.getBoundingClientRect(),i=r.left+window.pageXOffset,a=r.top+window.pageYOffset;return[i,a,i+t[0],a+t[1]]}setPositioning(e){this.set("positioning",e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t)return void this.setVisible(!1);const r=e.getPixelFromCoordinate(t),i=e.getSize();this.updateRenderedPosition(r,i)}updateRenderedPosition(e,t){const r=this.element.style,i=this.getOffset(),a=this.getPositioning();this.setVisible(!0);let h="0%",v="0%";"bottom-right"==a||"center-right"==a||"top-right"==a?h="-100%":("bottom-center"==a||"center-center"==a||"top-center"==a)&&(h="-50%"),"bottom-left"==a||"bottom-center"==a||"bottom-right"==a?v="-100%":("center-left"==a||"center-center"==a||"center-right"==a)&&(v="-50%");const P=`translate(${h}, ${v}) translate(${Math.round(e[0]+i[0])+"px"}, ${Math.round(e[1]+i[1])+"px"})`;this.rendered.transform_!=P&&(this.rendered.transform_=P,r.transform=P)}getOptions(){return this.options}};let x=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","nolOverlayContent",""]],exportAs:["nolOverlayContent"]}),n})();const Q=["*"];let T=(()=>{class n extends H.V{constructor(t,r){super(),this.viewContainerRef=t,this.host=r,this.onElementChange=new o.vpe,this.onMapChange=new o.vpe,this.onOffsetChange=new o.vpe,this.onPositionChange=new o.vpe,this.onPositioningChange=new o.vpe}ngOnInit(){}ngOnChanges(t){const{element:r,offset:i,position:a,positioning:p}=t,d=(0,k._T)(t,["element","offset","position","positioning"]);this.instance&&r&&this.instance.setElement(r.currentValue),this.instance&&i&&this.instance.setOffset(i.currentValue),this.instance&&a&&this.instance.setPosition(a.currentValue),this.instance&&p&&this.instance.setPositioning(p.currentValue),super.ngOnChanges(d)}ngAfterViewInit(){const t=new _(this.content,this.viewContainerRef);this.element||(this.element=document.createElement("div")),this.overlayOutlet=new Z(this.element),this.overlayOutlet.attach(t),this.instance=new J(this),this.instance.on("change:element",r=>this.onElementChange.emit(r)),this.instance.on("change:map",r=>this.onMapChange.emit(r)),this.instance.on("change:offset",r=>this.onOffsetChange.emit(r)),this.instance.on("change:position",r=>this.onPositionChange.emit(r)),this.instance.on("change:positioning",r=>this.onPositioningChange.emit(r)),super.ngOnInit(),this.host.instance.addOverlay(this.instance)}ngOnDestroy(){var t;this.host.instance.removeOverlay(this.instance),null===(t=this.overlayOutlet)||void 0===t||t.dispose()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(C.T))},n.\u0275cmp=o.Xpm({type:n,selectors:[["nol-overlay"]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,x,7,o.Rgc),2&t){let a;o.iGM(a=o.CRH())&&(r.content=a.first)}},inputs:{id:"id",element:"element",offset:"offset",position:"position",positioning:"positioning",stopEvent:"stopEvent",insertFirst:"insertFirst",autoPan:"autoPan",className:"className"},outputs:{onElementChange:"onElementChange",onMapChange:"onMapChange",onOffsetChange:"onOffsetChange",onPositionChange:"onPositionChange",onPositioningChange:"onPositioningChange"},exportAs:["nolOverlay"],features:[o.qOj,o.TTD],ngContentSelectors:Q,decls:1,vars:0,template:function(t,r){1&t&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})();var m=s(9611);let D=(()=>{class n{constructor(){}add(t,r){return(0,m.IH)(t,r)}createStringXY(t){return(0,m.Fj)(t)}format(t,r,i){return(0,m.WU)(t,r,i)}rotate(t,r){return(0,m.U1)(t,r)}toStringHDMS(t,r){return(0,m.V7)(t,r)}toStringXY(t,r){return(0,m.yZ)(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),F=(()=>{class n{constructor(t){this.coordiante=t}transform(t,r){return this.coordiante.toStringHDMS(t,r)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(D,16))},n.\u0275pipe=o.Yjl({name:"nolToStringHDMS",type:n,pure:!0}),n})();var c=s(7942);let R=(()=>{class n{constructor(){}addCoordinateTransforms(t,r,i,a){(0,c.zY)(t,r,i,a)}addEquivalentProjections(t){(0,c.rM)(t)}addProjection(t){(0,c.Sx)(t)}clearUserProjection(){(0,c.sx)()}equivalent(t,r){return(0,c.OP)(t,r)}fromLonLat(t,r){return(0,c.mi)(t,r)}get(t){return(0,c.U2)(t)}getPointResolution(t,r,i,a){return(0,c._Q)(t,r,i,a)}getTransform(t,r){return(0,c.Ck)(t,r)}getUserProjection(){return(0,c.Cs)()}setUserProjection(t){(0,c.DN)(t)}toLonLat(t,r){return(0,c.bU)(t,r)}transform(t,r,i){return(0,c.vs)(t,r,i)}transformExtent(t,r,i,a){return(0,c.$A)(t,r,i,a)}useGeographic(){(0,c.eL)()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),X=(()=>{class n{constructor(t){this.proj=t}transform(t,r){return this.proj.fromLonLat(t,r)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(R,16))},n.\u0275pipe=o.Yjl({name:"nolFromLonLat",type:n,pure:!0}),n})();function K(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"div",7),o._UZ(2,"div",8),o.TgZ(3,"h3",9),o._uU(4,"Welcome to OpenLayers"),o.qZA(),o.TgZ(5,"div",10)(6,"p"),o._uU(7,"The location you clicked was:"),o.qZA(),o.TgZ(8,"code"),o._uU(9),o.ALo(10,"nolToStringHDMS"),o.qZA()()(),o.BQk()),2&n){const t=o.oxw(2);o.xp6(9),o.Oqu(o.lcZ(10,1,t.clickPosition))}}function G(n,e){if(1&n&&(o.TgZ(0,"nol-overlay",6),o.YNc(1,K,11,3,"ng-container",4),o.qZA()),2&n){const t=o.oxw();o.Q6J("position",t.clickPosition)("positioning","bottom-center")}}function $(n,e){1&n&&(o.ynx(0),o._UZ(1,"div",11),o.BQk())}function W(n,e){1&n&&(o.ynx(0),o.TgZ(1,"a",12),o._uU(2,"Vienna"),o.qZA(),o.BQk())}const q=function(){return[0,0]},b=function(){return[16.3725,48.208889]};let tt=(()=>{class n{onClickMap(t){this.clickPosition=t.coordinate}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["nol-overlay-example"]],decls:11,vars:13,consts:[["height","500px",3,"onClick"],[3,"center","zoom"],[3,"position","positioning",4,"ngIf"],["positioning","center-center",3,"position","stopEvent"],[4,"nolOverlayContent"],[3,"position"],[3,"position","positioning"],[1,"popover"],[1,"popover-arrow"],[1,"popover-header"],[1,"popover-body"],[1,"vienna-marker"],["href","https://en.wikipedia.org/wiki/Vienna","target","_blank",1,"vienna-label"]],template:function(t,r){1&t&&(o.TgZ(0,"nol-map",0),o.NdJ("onClick",function(a){return r.onClickMap(a)}),o._UZ(1,"nol-view",1),o.TgZ(2,"nol-tile-layer"),o._UZ(3,"nol-osm-source"),o.qZA(),o.YNc(4,G,2,2,"nol-overlay",2),o.TgZ(5,"nol-overlay",3),o.ALo(6,"nolFromLonLat"),o.YNc(7,$,2,0,"ng-container",4),o.qZA(),o.TgZ(8,"nol-overlay",5),o.ALo(9,"nolFromLonLat"),o.YNc(10,W,3,0,"ng-container",4),o.qZA()()),2&t&&(o.xp6(1),o.Q6J("center",o.DdM(10,q))("zoom",2),o.xp6(3),o.Q6J("ngIf",r.clickPosition),o.xp6(1),o.Q6J("position",o.lcZ(6,6,o.DdM(11,b)))("stopEvent",!1),o.xp6(3),o.Q6J("position",o.lcZ(9,8,o.DdM(12,b))))},dependencies:[f.O5,C.T,M.S,E.K,A.x,T,x,F,X],styles:['.popover[_ngcontent-%COMP%]{position:relative;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.175);border-radius:.5rem;max-width:276px;transform:translateY(-8px)}.popover-arrow[_ngcontent-%COMP%]{position:absolute;left:0;bottom:calc(-.5rem - 1px);display:block;width:1rem;height:.5rem;transform:translate(129px)}.popover-arrow[_ngcontent-%COMP%]:before, .popover-arrow[_ngcontent-%COMP%]:after{position:absolute;display:block;content:"";border-color:transparent;border-style:solid;border-width:.5rem .5rem 0}.popover-arrow[_ngcontent-%COMP%]:before{bottom:0;border-top-color:#0000002d}.popover-arrow[_ngcontent-%COMP%]:after{bottom:1px;border-top-color:#fff}.popover-header[_ngcontent-%COMP%]{padding:.5rem 1rem;margin:0;font-size:1rem;color:#000000d9;background-color:#f0f0f0;border-bottom:1px solid rgba(0,0,0,.175);border-top-left-radius:calc(.5rem - 1px);border-top-right-radius:calc(.5rem - 1px)}.popover-body[_ngcontent-%COMP%]{min-width:276px;padding:1rem;color:#212529}.popover-body[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-bottom:1rem}.popover-body[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{color:#333;background-color:#f5f5f5;padding:.2em .4em;border-radius:3px;font-size:.875em}.vienna-marker[_ngcontent-%COMP%]{width:20px;height:20px;border:1px solid #088;border-radius:10px;background-color:#0ff;opacity:.5;box-sizing:border-box}.vienna-label[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:11pt;font-weight:700;text-shadow:black .1em .1em .2em}']}),n})();var et=s(2655);function ot(n,e){if(1&n&&(o.TgZ(0,"code"),o._uU(1),o.ALo(2,"nolToStringHDMS"),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Oqu(o.lcZ(2,1,t.clickPosition))}}function nt(n,e){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",5)(2,"a",6),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.closePopup())}),o._uU(3,"\u2716"),o.qZA(),o.TgZ(4,"div",7)(5,"p"),o._uU(6,"You clicked here:"),o.qZA(),o.YNc(7,ot,3,3,"code",8),o.qZA()(),o.BQk()}if(2&n){const t=o.oxw();o.xp6(7),o.Q6J("ngIf",t.clickPosition)}}const rt=function(){return[0,0]},it=function(){return{duration:250}},at=function(n){return{animation:n}};let st=(()=>{class n{constructor(){this.attributions='<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',this.url="https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=get_your_own_D6rA4zTHduk6KOKTXzGB"}onSingleclickMap(t){this.clickPosition=t.coordinate}closePopup(){this.clickPosition=void 0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["nol-popup-example"]],decls:6,vars:11,consts:[["height","500px",3,"onSingleclick"],[3,"center","zoom"],[3,"attributions","url","tileSize"],[3,"autoPan","position"],[4,"nolOverlayContent"],[1,"popup"],[1,"popup-closer",3,"click"],[1,"popup-content"],[4,"ngIf"]],template:function(t,r){1&t&&(o.TgZ(0,"nol-map",0),o.NdJ("onSingleclick",function(a){return r.onSingleclickMap(a)}),o._UZ(1,"nol-view",1),o.TgZ(2,"nol-tile-layer"),o._UZ(3,"nol-xyz-source",2),o.qZA(),o.TgZ(4,"nol-overlay",3),o.YNc(5,nt,8,1,"ng-container",4),o.qZA()()),2&t&&(o.xp6(1),o.Q6J("center",o.DdM(7,rt))("zoom",2),o.xp6(2),o.Q6J("attributions",r.attributions)("url",r.url)("tileSize",512),o.xp6(1),o.Q6J("autoPan",o.VKq(9,at,o.DdM(8,it)))("position",r.clickPosition))},dependencies:[f.O5,C.T,M.S,E.K,et.c,T,x,F],styles:['.popup[_ngcontent-%COMP%]{position:absolute;background-color:#fff;box-shadow:0 1px 4px #0003;padding:15px;border-radius:10px;border:1px solid #cccccc;bottom:12px;left:-50px;min-width:280px}.popup[_ngcontent-%COMP%]:before, .popup[_ngcontent-%COMP%]:after{top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.popup[_ngcontent-%COMP%]:before{border-top-color:#ccc;border-width:11px;left:48px;margin-left:-11px}.popup[_ngcontent-%COMP%]:after{border-top-color:#fff;border-width:10px;left:48px;margin-left:-10px}.popup-closer[_ngcontent-%COMP%]{text-decoration:none;position:absolute;top:2px;right:8px;cursor:pointer}.popup-content[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-bottom:1rem}.popup-content[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{color:#333;background-color:#f5f5f5;padding:.2em .4em;border-radius:3px;font-size:.875em}']}),n})(),lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[D],imports:[f.ez]}),n})();var ct=s(139),pt=s(2098);let dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[f.ez]}),n})(),ht=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[R],imports:[f.ez]}),n})();var ut=s(1237);let ft=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[f.ez]}),n})();var mt=s(1062);const Pt={"nol-overlay-overlay-example":tt,"nol-overlay-popup-example":st},gt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[f.ez,pt.D,mt.e,ct.V,ut.C,ft,dt,lt,ht]}),n})()}}]);