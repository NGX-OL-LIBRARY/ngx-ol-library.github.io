"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[634],{9634:(me,T,s)=>{s.r(T),s.d(T,{EXAMPLES_MODULE:()=>ae,EXAMPLE_COMPONENTS:()=>re});var o=s(2398),f=s(2031),m=s(2429),b=s(2683),X=s(1233),O=s(9545),J=s(8480),P=s(1508),A=s(1063),j=s(1335),w=s(5435),B=s(107),y=s(7942),D=s(1540);Error,Error;const W=class Y extends P.Z{constructor(e){const n=void 0!==e.hidpi&&e.hidpi;super({cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,opaque:!0,projection:(0,y.U2)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,tilePixelRatio:n?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.hidpi_=n,this.culture_=void 0!==e.culture?e.culture:"en-us",this.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet,function H(t,e,n,i){const a=document.createElement("script"),r="olc_"+(0,D.sq)(e);function l(){delete window[r],a.parentNode.removeChild(a)}a.async=!0,a.src=t+(t.includes("?")?"&":"?")+(i||"callback")+"="+r;const c=setTimeout(function(){l(),n&&n()},1e4);window[r]=function(d){clearTimeout(c),l(),e(d)},document.head.appendChild(a)}("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")}getApiKey(){return this.apiKey_}getImagerySet(){return this.imagerySet_}handleImageryMetadataResponse(e){if(200!=e.statusCode||"OK"!=e.statusDescription||"ValidCredentials"!=e.authenticationResultCode||1!=e.resourceSets.length||1!=e.resourceSets[0].resources.length)return void this.setState("error");const n=e.resourceSets[0].resources[0],i=-1==this.maxZoom_?n.zoomMax:this.maxZoom_,a=this.getProjection(),r=(0,B.Tl)(a),l=this.hidpi_?2:1,d=(0,B.dl)({extent:r,minZoom:n.zoomMin,maxZoom:i,tileSize:n.imageWidth==n.imageHeight?n.imageWidth/l:[n.imageWidth/l,n.imageHeight/l]});this.tileGrid=d;const v=this.culture_,M=this.hidpi_;if(this.tileUrlFunction=(0,j.Un)(n.imageUrlSubdomains.map(function(x){const p=[0,0,0],g=n.imageUrl.replace("{subdomain}",x).replace("{culture}",v);return function(u,S,R){if(u){(0,w.T9)(u[0],u[1],u[2],p);let E=g;return M&&(E+="&dpi=d1&device=mobile"),E.replace("{quadkey}",function Q(t){const e=t[0],n=new Array(e);let a,r,i=1<<e-1;for(a=0;a<e;++a)r=48,t[1]&i&&(r+=1),t[2]&i&&(r+=2),n[a]=String.fromCharCode(r),i>>=1;return n.join("")}(p))}}})),n.imageryProviders){const x=(0,y.WO)((0,y.U2)("EPSG:4326"),this.getProjection());this.setAttributions(function(p){const g=[],u=p.viewState,S=this.getTileGrid(),R=S.getZForResolution(u.resolution,this.zDirection),z=S.getTileCoordForCoordAndZ(u.center,R)[0];return n.imageryProviders.map(function(F){let L=!1;const U=F.coverageAreas;for(let N=0,le=U.length;N<le;++N){const C=U[N];if(z>=C.zoomMin&&z<=C.zoomMax){const h=C.bbox,ue=(0,A.Ne)([h[1],h[0],h[3],h[2]],x);if((0,A.kK)(ue,p.extent)){L=!0;break}}}L&&g.push(F.attribution)}),g.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'),g}.bind(this))}this.setState("ready")}},q=["*"];let k=(()=>{class t extends J.p{constructor(n){super(n)}ngOnInit(){this.instance=new W(this),super.ngOnInit()}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(O.K,1))},t.\u0275cmp=o.Xpm({type:t,selectors:[["nol-bing-maps-source"]],inputs:{hidpi:"hidpi",culture:"culture",key:"key",imagerySet:"imagerySet",maxZoom:"maxZoom"},exportAs:["nolBingMapsSource"],features:[o.qOj],ngContentSelectors:q,decls:1,vars:0,template:function(n,i){1&n&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),t})();function V(t,e){if(1&t&&(o.TgZ(0,"option",5),o._uU(1),o.qZA()),2&t){const n=e.$implicit;o.Q6J("value",n.value),o.xp6(1),o.Oqu(n.label)}}function $(t,e){if(1&t&&(o.ynx(0),o.TgZ(1,"nol-tile-layer",6),o._UZ(2,"nol-bing-maps-source",7),o.qZA(),o.BQk()),2&t){const n=e.$implicit,i=o.oxw();o.xp6(1),o.Q6J("visible",n.value===i.selected),o.xp6(1),o.Q6J("key",i.key)("imagerySet",n.value)}}const _=function(){return[0,0]};let ee=(()=>{class t{constructor(){this.key="ApnZqi0Y-RQjo6Kv-Gmoz517qAzexzpOcBcZNY5yNUcuqNFdDnqyNzM_k5VtBinx",this.styles=[{value:"RoadOnDemand",label:"Road"},{value:"Aerial",label:"Aerial"},{value:"AerialWithLabelsOnDemand",label:"Aerial with labels"},{value:"CanvasDark",label:"Road dark"},{value:"OrdnanceSurvey",label:"Ordnance Survey"}],this.selected="Aerial"}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["nol-bing-maps-example"]],decls:5,vars:6,consts:[[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["height","500px"],[3,"center","zoom"],[4,"ngFor","ngForOf"],[3,"value"],[3,"visible"],[3,"key","imagerySet"]],template:function(n,i){1&n&&(o.TgZ(0,"select",0),o.NdJ("ngModelChange",function(r){return i.selected=r}),o.YNc(1,V,2,2,"option",1),o.qZA(),o.TgZ(2,"nol-map",2),o._UZ(3,"nol-view",3),o.YNc(4,$,3,3,"ng-container",4),o.qZA()),2&n&&(o.Q6J("ngModel",i.selected),o.xp6(1),o.Q6J("ngForOf",i.styles),o.xp6(2),o.Q6J("center",o.DdM(5,_))("zoom",2),o.xp6(1),o.Q6J("ngForOf",i.styles))},dependencies:[f.sg,m.YN,m.Kr,m.EJ,m.JJ,m.On,b.T,X.S,O.K,k],encapsulation:2}),t})();var te=s(2098),ne=s(1062),oe=s(139);let ie=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[f.ez]}),t})();const re={"nol-bing-maps-source-bing-maps-example":ee},ae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[f.ez,m.u5,te.D,ne.e,oe.V,ie]}),t})()}}]);